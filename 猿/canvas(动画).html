<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>lxx</title>
	<style>
		*{margin:0;padding:0;}
		canvas{
			border:1px solid red;
		}
	</style>
	<script>
		window.onload=function(){
			var oC = document.querySelector('canvas');
			var gd = oC.getContext('2d');
			var oImg = new Image();
			oImg.src = '20110222_14.png';
			var w = 40;
			var h = 56;
			var i = 0;
			var x = 0;
			var y = 0;
			oImg.onload=function(){
				setInterval(function(){
					gd.clearRect(0,0,oC.width,oC.height);
					i++;
					i%=4;						
					if(y <=100 && x == 0){
						//向下
						y+=2;
						gd.drawImage(oImg,w*i,0,w,h,x,y,40,56);
						
					}
					else if( y > 100  && x<=100){
						//向右
						x+=5;
						gd.drawImage(oImg,w*i,h*2,w,h,x,y,40,56);
					}
					else if( y <= 100 && x ==100){
						y-=1;
						gd.drawImage(oImg,w*i,h*3,w,h,x,y,40,56);
					}
					/*if(	x < 100){
						x-=5;
						gd.drawImage(oImg,w*i,h*2,w,h,x,y,40,56);
					}*/



					//向上						
					/*y-=1;
					gd.drawImage(oImg,w*i,h*3,w,h,x,y,40,56);*/
						/*
						

						//向上
						

						//向左
						x-=5;
						gd.drawImage(oImg,w*i,h,w,h,x,y,40,56);*/

				},100);
				
			}
		}
	</script>
</head>
<body>
	<canvas width="1000" height="600"></canvas>
</body>
</html>